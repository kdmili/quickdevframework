<!DOCTYPE html>
<html layout:decorator="layout">
<head>
<meta charset="UTF-8">
<title>测试页面</title>
</head>
<body>
	<div layout:fragment="content">
		<form method="post" action="post" class="form-horizontal"
			th:object="${user}">
			<div class="form-group">
				<lable class="col-sm-3">name</lable>
				<div class="col-sm-8">
					<input th:field="*{username}" type="text" class="form-control">
					<p th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Incorrect
						date</p>
				</div>
			</div>

			<div class="form-group">
				<lable class="col-sm-3">regdate</lable>
				<div class="col-sm-8">
					<input name="regDate" type="date" class="form-control"
						th:value="*{#dates.format(regDate,'YYY-MM-dd')}">
				</div>
			</div>

			<div class="form-group">
				<lable class="col-sm-3">recordInfo.createDate</lable>
				<div class="col-sm-8">
					<input name="recordInfo.createDate" type="date"
						class="form-control">
				</div>
			</div>

			<div class="form-group">
				<lable class="col-sm-3">recordInfo.upDate</lable>
				<div class="col-sm-8">
					<input name="recordInfo.upDate" type="date" class="form-control">
				</div>
			</div>

			<div class="form-group">
				<lable class="col-sm-3">recordInfo.upDate</lable>
				<div class="col-sm-8">
					<input name="recordInfo.upDate" type="date" class="form-control">
				</div>
			</div>

			<div class="form-group">
				<lable class="col-sm-3">userBooks[0].bookName</lable>
				<div class="col-sm-8">
					<input name="userBooks[0].bookName" type="text"
						class="form-control">
				</div>
			</div>
			<div class="form-group">
				<lable class="col-sm-3">userBooks[0].productDate</lable>
				<div class="col-sm-8">
					<input name="userBooks[0].productDate" type="date"
						class="form-control">
				</div>
			</div>
			<div class="form-group">
				<lable class="col-sm-3">userBooks[1].bookName</lable>
				<div class="col-sm-8">
					<input name="userBooks[1].bookName" type="text"
						class="form-control">
				</div>
			</div>
			<div class="form-group">
				<lable class="col-sm-3">userBooks[1].productDate</lable>
				<div class="col-sm-8">
					<input name="userBooks[1].productDate" type="date"
						class="form-control">
				</div>
			</div>
			<div class="form-group text-center">

				<button type="submit" class="btn btn-primary">提交</button>

			</div>

			<div class="form-group uploader" id="uploadPanel">
				<input type="file" name="file" multiple="multiple" id="file1"
					class="form-controll" />
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2">文件</label>
				<div class="col-sm-8">
					<div class="row  _uploadContainer" 	mutilfile="true"  fileType="image/*">
						<div class="col-sm-6">
							<input type="file" name="pics">
						</div>
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-sm-2">文件2</label>
				<div class="col-sm-8">
					<div class="row  _uploadContainer"  fileType="image/*">
						<div class="col-sm-6">
							<input type="file" name="pics2">
						</div>
					</div>
				</div>
			</div>
		</form>

		<script type="text/javascript">
			var msg = "";
			/* 	$(function() {
					$('form').dmUploader(
							{
								url : '/upload',
								dataType : 'json',
								onInit : function() {
									msg+="uploader component init ---\n";
									$('#msg').html(msg);
								},
								onBeforeUpload : function(id) {
									msg+="before upload\n";
									$('#msg').html(msg);
								},
								onNewFile : function(id, file) {
									msg+="add file quque to upload ---\n";
									$('#msg').html(msg);
								},
								onComplete : function() {
									 
								},
								onUploadProgress : function(id, percent) {
									
									var percentStr = percent + '%';

									$('.progress-bar').css('width',percentStr);
								},
								onUploadSuccess : function(id, data) {
									msg+="upload success"+id+" \n" ;
									$('#msg').html(msg);
									$('#msg').append($('<a/>').attr('href','http://localhost:90'+data.url).text("下载"));
									
								},
								onUploadError : function(id, message) {
									msg+='upload error '+message+'\n';
									$('#msg').html(msg);
								},
								onFileTypeError : function(file) {
								  msg+="文件累成错误\n";
									$('#msg').html(msg);
								},
								onFileSizeError : function(file) {
									msg+="文件大小错误\n";
									$('#msg').html(msg);
								},
								onFallbackMode : function(message) {
									msg+="fallbackMode "+message+"\n";
									$('#msg').html(msg);
								}
							});
				}) */
		</script>
	</div>


</body>
</html>